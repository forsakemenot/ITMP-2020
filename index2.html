<!DOCTYPE html>
<html>

<head>
    <title>The Members - ITKMITL Multimedia Programming 2563</title>

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <link rel="stylesheet" href="https://jabont.com/jayss/jayss2.css">
    <link rel="stylesheet" type="text/css" href="lab.css">
</head>

<body class="bg-pink-2">
    <section class="padding-xl-vtc">
        <div class="cont-pd">
            <div id="app">
                <theboxes class="spacing-l">
                    <box col="4">
                        <h2 class="h7 cl-white">About This User</h2>
                        <sp></sp>
                        <div class="bg-white round shadow size-l capital  cl-bluegrey">
                            <div class="blank bg-cover" ratio="4:3" :style="{'background-image':'url(https://picsum.photos/id/'+person.id+'1/300/300)'}"></div>
                            <sp class="rm"></sp>
                            <div class="padding-vl ">
                            <h1>@{{person.username}}</h1>
                            <sp></sp>
                            <h4 class="b5 lh-l cl-bluegrey">name: {{person.name}}</h4>
                            <h4 class="b5 lh-l cl-bluegrey">email: {{person.email}}</h4>
                            <h4 class="b5 lh-l cl-bluegrey">website: {{person.website}}</h4>
                            <h4 class="b5 lh-l cl-bluegrey">company: {{person.company.name}}</h4>
                        </div>
                        </div>
                    </box>
                    <box col="8">
                        <h2 class="h7 cl-white">Members</h2>
                        <sp></sp>
                        <theboxes boxing="4" class="spacing -clip">
                            <box v-for="u in users" :data-id="u.id">
                                <inner class="padding bg-white round shadow cl-pink ffont t-center">
                                    <img :src="'https://picsum.photos/id/'+u.id+'1/100/100'" class="shadow circle">
                                    <sp class="rm"></sp>
                                    <h3 class="b9">{{u.username}}</h3>
                                    <h5 class="b5">{{u.name}}</h5>
                                    <sp class="rm"></sp>
                                    <div @click="viewBio(u)" class="btn bg-pink-5 hover-bg-pink-7 size-s wide">View Bio</div>
                                </inner>
                            </box>
                        </theboxes>
                    </box>
                </theboxes>
            </div>
        </div>
    </section>

    <script>
        fetch('https://jsonplaceholder.typicode.com/users')
            .then(response => response.json())
            .then(json => {
                console.log(json);
                app.users = json
                app.person = json[0]
            })

        let app = new Vue({
            el: '#app',
            data: {
                users: [
                ],
                person: {
                    id: 0,
                    name: '..loading',
                    username: '..loading',
                    email: '..loading',
                    website: '..loading',
                    company: {
                        name: '..loading',
                    }
                }
            },
            methods: {
                viewBio: function (user) {
                    this.person = user
                }
            }
        })

		// function viewUser(el){
		// 	let id = el.dataset.id-1;
		// 	console.log(el)
		// 	app.person = app.users[id]
		// }
    </script>
</body>

</html>